<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NEO-TOKYO // Stream_Access</title>
    <link rel="stylesheet" href="style.css">
    <style>
  /* RESET BÁSICO PARA EVITAR QUEBRAS */
* {
    box-sizing: border-box;
    -webkit-tap-highlight-color: transparent;
}

body {
    margin: 0;
    padding: 0;
    background-color: #050505; /* Fundo escuro padrão */
    color: var(--text);
}

/* CONTAINER PRINCIPAL */
.player-container { 
    max-width: 800px; 
    width: 95%; /* Ocupa quase tudo no celular */
    margin: 20px auto; 
    padding: 20px; 
    background: var(--card-bg); 
    border: 1px solid var(--primary);
    box-shadow: 0 0 20px rgba(188, 19, 254, 0.2);
}

/* LINK DE VOLTAR */
.back-link { 
    color: var(--primary); 
    text-decoration: none; 
    margin-bottom: 20px; 
    display: inline-block; 
    font-family: monospace;
    font-size: 0.9rem;
}
.back-link:hover { text-shadow: 0 0 10px var(--primary); }

/* HEADER (POSTER + INFO) */
.view-header { 
    display: flex; 
    flex-direction: row; /* Lado a lado no PC */
    gap: 20px; 
    margin-bottom: 30px; 
    align-items: flex-start;
}

.view-poster { 
    width: 180px; 
    height: auto;
    border: 1px solid var(--secondary);
    flex-shrink: 0; /* Impede a imagem de esmagar */
}

.info-text {
    flex: 1;
}

.info-text h1 {
    font-size: 1.8rem;
    margin-bottom: 10px;
    color: var(--secondary);
    text-transform: uppercase;
}

/* BOTÕES DE SERVIDOR */
h3 {
    font-family: monospace;
    color: var(--primary);
    border-bottom: 1px solid var(--primary);
    padding-bottom: 5px;
    font-size: 1rem;
}

.source-btn { 
    display: block; 
    width: 100%; 
    padding: 15px; 
    margin: 10px 0;
    background: rgba(0, 229, 255, 0.05); 
    border: 1px solid var(--secondary);
    color: var(--secondary); 
    text-align: left; 
    text-decoration: none;
    font-family: monospace; 
    transition: 0.3s;
    word-wrap: break-word; /* Faz o texto quebrar se for longo */
}

.source-btn:hover { 
    background: var(--secondary); 
    color: #000; 
    box-shadow: 0 0 15px var(--secondary); 
}

/* AJUSTES PARA CELULAR (MOBILE-FIRST) */
@media (max-width: 600px) {
    .view-header { 
        flex-direction: column; /* Poster em cima, texto embaixo */
        align-items: center; 
        text-align: center; 
    }

    .view-poster { 
        width: 150px; /* Poster um pouco menor no celular */
        margin-bottom: 15px;
    }

    .info-text h1 {
        font-size: 1.4rem;
    }

    .player-container {
        padding: 15px;
        margin: 10px auto;
    }

    .source-btn {
        padding: 12px;
        font-size: 0.85rem;
        white-space: normal; /* Permite que o texto do botão ocupe 2 linhas se precisar */
    }
}

</style>
</head>
<body>
    <div class="scanlines"></div>
    <div class="player-container">
        <a href="index.html" class="back-link"><< RETURN_TO_DATABASE</a>
        
        <div class="view-header">
    <img id="anime-poster" src="" class="view-poster">
    <div class="info-text"> <h1 id="anime-title" style="margin:0;"></h1>
        <p id="anime-desc" style="color: #888; font-size: 0.9rem;"></p>
        <div id="anime-tags"></div>
    </div>
</div>
        <h3>SELECT_STREAME_SOURCE:</h3>
        <div id="source-list">
            </div>
    </div>

    
    <script src="database.js"></script>
    <script>
        const params = new URLSearchParams(window.location.search);
        const animeId = params.get('id');
        const item = database.find(x => x.id === animeId);

        if (item) {
            document.getElementById('anime-title').innerText = item.title;
            document.getElementById('anime-poster').src = item.image;
            document.getElementById('anime-desc').innerText = item.description;
            
            const sourceList = document.getElementById('source-list');
            item.sources.forEach(src => {
                sourceList.innerHTML += `
                    <a href="${src.url}" target="_blank" class="source-btn">
                        [RUN] > ${src.name}
                    </a>
                `;
            });
        } else {
            document.body.innerHTML = "<div style='color:red; text-align:center; margin-top:100px;'><h1>404: DATABASE_CRITICAL_ERROR</h1><a href='index.html' style='color:#00e5ff;'>RETURN_TO_HOME</a></div>";
        }
    </script>
</body>
</html>
